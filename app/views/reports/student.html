{% extends 'templates/auth_area.html' %}
{% set active_page = 'student' %}

{% import "macros/charts.jinja" as charts %}

{% block head %}
    {{ charts.chart_head(data) }}
{% endblock %}

{% block content %}

<h3 style="display:inline-block">Student Reports</h3>
<a href='/reports/student'><button class="backButton" style="float: right">Back to search</button></a>
<div class='row'>
    <div class='three columns vertical-fill'>
        <div class='card'>
            <h5>Core</h5>
            <table class='u-full-width'>
                <tr>
                  <th>Total</th>
                  <td>{{data.core.total  | round(2, 'common') }}</td>
                </tr>
                <tr>
                  <th>Remaining</th>
                  <td>{{(200 - data.core.total)  | round(2, 'common') }}</td>
                </tr>
            </table>
        </div>
        <div class='card'>
            <h5>Additional</h5>
            <table class='u-full-width'>
                <tr>
                  <th>Total</th>
                  <td>{{ data.additional.total | round(2, 'common') }}</td>
                </tr>
                <tr>
                  <th>Remaining</th>
                  <td>{{ (100.0 - data.additional.total) | round(2, 'common') }}</td>
                </tr>
            </table>
        </div>
        <div class='card'>
            <h5>CHECK</h5>
            <h2>PASS</h2>
        </div>
    </div>
    <div class='nine columns vertical-fill'>
      <div class='card'>
        <h5>HOURS BY PLACEMENT LOCATION</h5>
        <table class="u-full-width placement-location-table">
          <thead>
            <tr>
              <th>Location</th>
              <th>Hours</th>
            </tr>
          </thead>
          <tbody>
            {%- for location in [
            'UWA Exercise & Performance Centre',
            'WACRH (Geraldton)',
            'Agility Rehabilitation',
            'Curtin Stadium'
            'Fiona Stanley Hospital',
            'Guardian Exercise Rehabilitation',
            'Health Care WA',
            'HFRC',
            'Made to Move Rehabilitation Gym',
            'Neuromoves',
            'O2 Active',
            'Redimed',
            'Reps Movement',
            'The Exercise Therapist',
            'Other/Self Directed',
            'Shenton College'
            ] %}
            <tr>
              <td>{{location}}</td>
              <td>0.0</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class='card'>
        <h5>HOURS BY ACTIVITY AND AEP DOMAIN</h5>
        <table class="u-full-width activity-aep-table">
            <thead>
                <tr>
                    <th></th>
                    <!-- <th colspan="5" style="text-align:left">Activity Type</th> -->
                    <th colspan="5" style="text-align: center;">Activity Type</th>
                </tr>
                <tr>
                    <th>AEP Domains</th>
                    {% for a in data.core.activities %}
                    <th>{{a}}</th>
                    {% endfor %}
                    <th>TOTAL</th>
                </tr>
            </thead>
            <tbody>
                {% for i in range(1, data.core.len + 1) %}
                <tr>
                    <td>{{data.core.graph[0][i]}}</td>
                    {% set total = namespace(value=0) %}
                    {% for j in range(1, data.core.activities|length + 1) %}
                        <td>{{data.core.graph[j][i] | round(2, 'common')}}</td>
                        {% set total.value = total.value + data.core.graph[j][i] %}
                    {% endfor %}
                    <td>{{total.value | round(2, 'common')}}</td>
                </tr>
                {% endfor %}
                {% for i in range(1, data.additional.len + 1) %}
                <tr>
                    <td>{{data.additional.graph[0][i]}}</td>
                    {% set total = namespace(value=0) %}
                    {% for j in range(1, data.core.activities|length + 1) %}
                        <td>{{data.additional.graph[j][i] | round(2, 'common')}}</td>
                        {% set total.value = total.value + data.additional.graph[j][i] %}
                    {% endfor %}
                    <td>{{total.value | round(2, 'common')}}</td>
                </tr>
                {% endfor %}

            </tbody>
        </table>
      </div>
    </div>
</div>
<div class='row'>
    <div class='twelve columns card'>
        {{ charts.chart_div('core')}}
    </div>
</div>
<div class='row'>
    <div class='twelve columns card'>
        {{ charts.chart_div('additional')}}
    </div>
</div>
{% endblock %}

